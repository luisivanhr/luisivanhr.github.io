:root {
  --bg: #0b0f14;
  --ink: #e8eef6;
  --muted: #92a1b0;

  /* Scene sizing (Option B) */
  --scene-ar: 1600/900;  /* use your SVG viewBox width/height */
  --scene-w: 90vw;       /* % of screen width to use (tweak 70–95vw) */
  --bars-color: #000;    /* color for the letterbox bars */
} 

* { box-sizing: border-box; }
body {
  margin: 0;
  color: var(--ink);
  background: #0a0c10;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial;
}
a { color: #68d5ff; text-decoration: none; }
a:hover { text-decoration: underline; }
.skip { position: absolute; left: -9999px; top: -9999px; }
.skip:focus { left: 16px; top: 16px; background:#000; padding:8px 12px; border-radius:6px; }

/* === Letterboxed viewport container === */
#desk-wrap {
  position: fixed;
  inset: 0;
  max-width: none;
  background: var(--bars-color);      /* the “black bars” live here */
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* === Scaled stage (the whole scene scales together) === */
.stage {
  position: relative;
  width: var(--scene-w);
  height: calc(var(--scene-w) / var(--scene-ar));
  max-height: 95vh;                   /* avoid vertical overflow on short screens */
  aspect-ratio: var(--scene-ar);      /* keeps geometry stable during resize */
}

/* Scene container inside the stage */
.desk-bg {
  position: absolute;
  inset: 0;
  overflow: hidden;
  border-bottom: 1px solid #1f2a33;
}

/* All SVGs inside the scene fill the stage */
.desk-bg svg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
}

.patch {
  position: absolute;
  pointer-events: none;
  opacity: 1;
}

/* Blackboard math overlay — positioned relative to the stage */
.board-math {
  position: absolute;
  left: 240px;        /* adjust to match your board */
  top: 164px;
  width: 460px;
  aspect-ratio: 16 / 9;
  color: #fff;
  font-size: 22px;
  line-height: 1.4;
  pointer-events: none; /* so it doesn’t block hotspots */
  transform: rotate(4deg);
}

/* Banner / marquee (unchanged) */
#banner { height: 84px; display:flex; align-items:center; overflow:hidden; background:#0f131a; border-top:1px solid #1f2a33; }
#banner .track { display:flex; gap:24px; padding: 0 16px; animation: scroll 18s linear infinite; }
#banner .slide { white-space: nowrap; opacity:.85; }
@keyframes scroll { from { transform: translateX(0); } to { transform: translateX(-50%); } }

/* Tooltip (unchanged) */
#tooltip { position: fixed; z-index: 50; background: #061019ee; border: 1px solid #153244; border-radius: 10px; padding: 10px 12px; width: 320px; box-shadow: 0 10px 30px #0008; }
#tooltip .thumb { width: 100%; height: 140px; object-fit: cover; border-radius: 8px; display:block; }
#tooltip .title { font-weight: 700; margin-top: 8px; }
#tooltip .meta { color: var(--muted); font-size: 0.9rem; }

/* Classic nav (unchanged) */
.classic-nav { display:grid; grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap:10px; }
.classic-nav a { padding:10px 12px; background:#0f131a; border:1px solid #1f2a33; border-radius: 8px; } 

/* === Explicit stacking order inside the stage === */
#desk-bg-art { z-index: 1; }      /* root <svg> id inside desk-bg.svg */
#fx-layer   { z-index: 3; pointer-events: none; position: absolute; inset: 0; }
#desk-hotspots { z-index: 5; position: absolute; inset: 0; }  /* outlines/hover on top of FX */
.board-math { z-index: 6; }       /* equations overlay on top */
